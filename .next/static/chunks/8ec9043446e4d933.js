(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},80451,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),n=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54",{default:"(..) .... ....","/^11/":"(..) .... ....","/^15/":"(..) ... ....","/^(2|3|4|5)/":"(.) .... ....","/^9/":"(.) .... ....."},0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973",".... ...."],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Gibraltar","gi","350"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965",".... ...."],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968",".... ...."],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974",".... ...."],["Réunion","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966",".. ... ...."],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971",{default:".. ... ....","/^5[024568]/":".. ... ....","/^[234679]/":". ... ...."}],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],i=(...e)=>e.filter(e=>!!e).join(" ").trim(),o=({addPrefix:e,rawClassNames:t})=>i(((...e)=>i(...e).split(" ").map(e=>`react-international-phone-${e}`).join(" "))(...e),...t),l=e=>!!e&&/^\d+$/.test(e),s=({phone:e,prefix:t})=>e?`${t}${e.replace(/\D/g,"")}`:"";function u({value:e,country:t,insertDialCodeOnEmpty:a,trimNonDigitsEnd:r,countries:n,prefix:i,charAfterDialCode:o,forceDialCode:l,disableDialCodeAndPrefix:u,defaultMask:d,countryGuessingEnabled:f,disableFormatting:m}){let p=e;u&&(p=p.startsWith(`${i}`)?p:`${i}${t.dialCode}${p}`);let h=f?A({phone:p,countries:n,currentCountryIso2:t?.iso2}):void 0,y=h?.country??t,C=((e,t)=>{let a,r=!t.disableDialCodeAndPrefix&&t.forceDialCode,n=!t.disableDialCodeAndPrefix&&t.insertDialCodeOnEmpty,i=e,o=e=>t.trimNonDigitsEnd?e.trim():e;if(!i)return o(n&&!i.length||r?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:i);if((i=i.replace(/\D/g,""))===t.dialCode&&!t.disableDialCodeAndPrefix)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(i)&&!t.disableDialCodeAndPrefix)return o(r?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${i}`);if(!i.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(r)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(i.length<t.dialCode.length)return o(`${t.prefix}${i}`)}let{phoneLeftSide:l,phoneRightSide:s}=(a=t.dialCode.length,{phoneLeftSide:i.slice(0,a),phoneRightSide:i.slice(a)});return l=`${t.prefix}${l}${t.charAfterDialCode}`,s=(({value:e,mask:t,maskSymbol:a,offset:r=0,trimNonMaskCharsLeftover:n=!1})=>{if(e.length<r)return e;let i=e.slice(0,r),o=e.slice(r),l=i,s=0;for(let e of t.split("")){if(s>=o.length){if(!n&&e!==a){l+=e;continue}break}e===a?(l+=o[s],s+=1):l+=e}return l})({value:s,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&0===s.length}),t.disableDialCodeAndPrefix&&(l=""),o(`${l}${s}`)})(p,{prefix:i,mask:D({phone:p,country:y,defaultMask:d,disableFormatting:m}),maskChar:c,dialCode:y.dialCode,trimNonDigitsEnd:r,charAfterDialCode:o,forceDialCode:l,insertDialCodeOnEmpty:a,disableDialCodeAndPrefix:u}),g=f&&!h?.fullDialCodeMatch?t:y;return{phone:s({phone:u?`${g.dialCode}${C}`:C,prefix:i}),inputValue:C,country:g}}var d={size:20,overrideLastItemDebounceMS:-1},c=".",f="us",m="",p="+",h="............",y=" ",C=200,g=!1,b=!1,v=!1,w=!1,x=!1,k=n,D=({phone:e,country:t,defaultMask:a="............",disableFormatting:r=!1})=>{let n=t.format,i=e=>r?e.replace(RegExp(`[^${c}]`,"g"),""):e;if(!n)return i(a);if("string"==typeof n)return i(n);if(!n.default)return console.error(`[react-international-phone]: default mask for ${t.iso2} is not provided`),i(a);let o=Object.keys(n).find(a=>{if("default"===a)return!1;if("/"!==a.charAt(0)||"/"!==a.charAt(a.length-1))return console.error(`[react-international-phone]: format regex "${a}" for ${t.iso2} is not valid`),!1;let r=new RegExp(a.substring(1,a.length-1)),n=e.replace(t.dialCode,"");return r.test(n.replace(/\D/g,""))});return i(o?n[o]:n.default)},N=e=>{let[t,a,r,n,i,o]=e;return{name:t,iso2:a,dialCode:r,format:n,priority:i,areaCodes:o}},S=({field:e,value:t,countries:a=n})=>{if(["priority"].includes(e))throw Error(`Field "${e}" is not supported`);let r=a.find(a=>t===N(a)[e]);if(r)return N(r)},A=({phone:e,countries:t=n,currentCountryIso2:a})=>{let r={country:void 0,fullDialCodeMatch:!1};if(!e)return r;let i=e.replace(/\D/g,"");if(!i)return r;let o=r,l=({country:e,fullDialCodeMatch:t})=>{let a=e.dialCode===o.country?.dialCode,r=(e.priority??0)<(o.country?.priority??0);(!a||r)&&(o={country:e,fullDialCodeMatch:t})};for(let e of t){let t=N(e),{dialCode:a,areaCodes:r}=t;if(i.startsWith(a)){let e=!o.country||Number(a)>=Number(o.country.dialCode);if(r){let e=i.substring(a.length);for(let a of r)if(e.startsWith(a))return{country:t,fullDialCodeMatch:!0}}(e||a===i||!o.fullDialCodeMatch)&&l({country:t,fullDialCodeMatch:!0})}o.fullDialCodeMatch||i.length<a.length&&a.startsWith(i)&&(!o.country||Number(a)<=Number(o.country.dialCode))&&l({country:t,fullDialCodeMatch:!1})}if(a){let e=S({value:a,field:"iso2",countries:t});if(!e)return o;let r=!!e&&(e=>{if(!e?.areaCodes)return!1;let t=i.substring(e.dialCode.length);return e.areaCodes.some(e=>e.startsWith(t))})(e);o&&o.country?.dialCode===e.dialCode&&o.country!==e&&o.fullDialCodeMatch&&(!e.areaCodes||r)&&(o={country:e,fullDialCodeMatch:!0})}return o},P="abcdefghijklmnopqrstuvwxyz".split("").reduce((e,t,a)=>({...e,[t]:Number(parseInt("1f1e6",16)+a).toString(16)}),{}),E=({iso2:e,size:t,src:r,protocol:n="https",disableLazyLoading:i,className:l,style:s,...u})=>e?a.default.createElement("img",{className:o({addPrefix:["flag-emoji"],rawClassNames:[l]}),src:(()=>{if(r)return r;let t=[P[e[0]],P[e[1]]].join("-");return`${n}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${t}.svg`})(),width:t,height:t,draggable:!1,"data-country":e,loading:i?void 0:"lazy",style:{width:t,height:t,...s},alt:"",...u}):a.default.createElement("img",{className:o({addPrefix:["flag-emoji"],rawClassNames:[l]}),width:t,height:t,...u}),j=({show:e,dialCodePrefix:t="+",selectedCountry:r,countries:i=n,preferredCountries:l=[],flags:s,onSelect:u,onClose:d,...c})=>{let f=(0,a.useRef)(null),m=(0,a.useRef)(),p=(0,a.useMemo)(()=>{if(!l||!l.length)return i;let e=[],t=[...i];for(let a of l){let r=t.findIndex(e=>N(e).iso2===a);if(-1!==r){let a=t.splice(r,1)[0];e.push(a)}}return e.concat(t)},[i,l]),h=(0,a.useRef)({updatedAt:void 0,value:""}),y=(0,a.useCallback)(e=>p.findIndex(t=>N(t).iso2===e),[p]),[C,g]=(0,a.useState)(y(r)),b=()=>{m.current!==r&&g(y(r))},v=(0,a.useCallback)(e=>{g(y(e.iso2)),u?.(e)},[u,y]),w=e=>{let t=p.length-1;g(a=>{let r="prev"===e?a-1:"next"===e?a+1:"last"===e?t:0;return r<0?0:r>t?t:r})},x=(0,a.useCallback)(()=>{var e;let t,a,r,n,i;if(!f.current||void 0===C)return;let o=N(p[C]).iso2;if(o===m.current)return;let l=f.current.querySelector(`[data-country="${o}"]`);l&&(e=f.current,"block"!==(t=e.style.display)&&(e.style.display="block"),a=e.getBoundingClientRect(),n=(r=l.getBoundingClientRect()).top-a.top,i=a.bottom-r.bottom,n>=0&&i>=0||(Math.abs(n)<Math.abs(i)?e.scrollTop+=n:e.scrollTop-=i),e.style.display=t,m.current=o)},[C,p]);return(0,a.useEffect)(()=>{x()},[C,x]),(0,a.useEffect)(()=>{f.current&&(e?f.current.focus():b())},[e]),(0,a.useEffect)(()=>{b()},[r]),a.default.createElement("ul",{ref:f,role:"listbox",className:o({addPrefix:["country-selector-dropdown"],rawClassNames:[c.className]}),style:{display:e?"block":"none",...c.style},onKeyDown:e=>{var t;let a,r;if(e.stopPropagation(),"Enter"===e.key){e.preventDefault(),v(N(p[C]));return}if("Escape"===e.key)return void d?.();if("ArrowUp"===e.key){e.preventDefault(),w("prev");return}if("ArrowDown"===e.key){e.preventDefault(),w("next");return}if("PageUp"===e.key){e.preventDefault(),w("first");return}if("PageDown"===e.key){e.preventDefault(),w("last");return}" "===e.key&&e.preventDefault(),1!==e.key.length||e.altKey||e.ctrlKey||e.metaKey||(t=e.key.toLocaleLowerCase(),a=h.current.updatedAt&&new Date().getTime()-h.current.updatedAt.getTime()>1e3,h.current={value:a?t:`${h.current.value}${t}`,updatedAt:new Date},-1!==(r=p.findIndex(e=>N(e).name.toLowerCase().startsWith(h.current.value)))&&g(r))},onBlur:d,tabIndex:-1,"aria-activedescendant":`react-international-phone__${N(p[C]).iso2}-option`},p.map((e,n)=>{let i=N(e),u=i.iso2===r,d=n===C,f=l.includes(i.iso2),m=n===l.length-1,p=s?.find(e=>e.iso2===i.iso2);return a.default.createElement(a.default.Fragment,{key:i.iso2},a.default.createElement("li",{"data-country":i.iso2,role:"option","aria-selected":u,"aria-label":`${i.name} ${t}${i.dialCode}`,id:`react-international-phone__${i.iso2}-option`,className:o({addPrefix:["country-selector-dropdown__list-item",f&&"country-selector-dropdown__list-item--preferred",u&&"country-selector-dropdown__list-item--selected",d&&"country-selector-dropdown__list-item--focused"],rawClassNames:[c.listItemClassName,f&&c.listItemPreferredClassName,u&&c.listItemSelectedClassName,d&&c.listItemFocusedClassName]}),onClick:()=>v(i),style:c.listItemStyle,title:i.name},a.default.createElement(E,{iso2:i.iso2,src:p?.src,className:o({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[c.listItemFlagClassName]}),style:c.listItemFlagStyle}),a.default.createElement("span",{className:o({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[c.listItemCountryNameClassName]}),style:c.listItemCountryNameStyle},i.name),a.default.createElement("span",{className:o({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[c.listItemDialCodeClassName]}),style:c.listItemDialCodeStyle},t,i.dialCode)),m?a.default.createElement("hr",{className:o({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[c.preferredListDividerClassName]}),style:c.preferredListDividerStyle}):null)}))},$=a.default.memo(({selectedCountry:e,onSelect:t,disabled:r,hideDropdown:i,countries:l=n,preferredCountries:s=[],flags:u,renderButtonWrapper:d,...c})=>{let f,m,[p,h]=(0,a.useState)(!1),y=(0,a.useMemo)(()=>{if(e)return S({value:e,field:"iso2",countries:l})},[l,e]),C=(0,a.useRef)(null);return a.default.createElement("div",{className:o({addPrefix:["country-selector"],rawClassNames:[c.className]}),style:c.style,ref:C},(f={title:y?.name,onClick:()=>h(e=>!e),onMouseDown:e=>e.preventDefault(),onKeyDown:e=>{e.key&&["ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),h(!0))},disabled:i||r,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":p},m=a.default.createElement("div",{className:o({addPrefix:["country-selector-button__button-content"],rawClassNames:[c.buttonContentWrapperClassName]}),style:c.buttonContentWrapperStyle},a.default.createElement(E,{iso2:e,src:u?.find(t=>t.iso2===e)?.src,className:o({addPrefix:["country-selector-button__flag-emoji",r&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[c.flagClassName]}),style:{visibility:e?"visible":"hidden",...c.flagStyle}}),!i&&a.default.createElement("div",{className:o({addPrefix:["country-selector-button__dropdown-arrow",r&&"country-selector-button__dropdown-arrow--disabled",p&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[c.dropdownArrowClassName]}),style:c.dropdownArrowStyle})),d?d({children:m,rootProps:f}):a.default.createElement("button",{...f,type:"button",className:o({addPrefix:["country-selector-button",p&&"country-selector-button--active",r&&"country-selector-button--disabled",i&&"country-selector-button--hide-dropdown"],rawClassNames:[c.buttonClassName]}),"data-country":e,style:c.buttonStyle},m)),a.default.createElement(j,{show:p,countries:l,preferredCountries:s,flags:u,onSelect:e=>{h(!1),t?.(e)},selectedCountry:e,onClose:()=>{h(!1)},...c.dropdownStyleProps}))}),M=({dialCode:e,prefix:t,disabled:r,style:n,className:i})=>a.default.createElement("div",{className:o({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:n},`${t}${e}`),I=(0,a.forwardRef)(({value:e,onChange:t,countries:r=n,preferredCountries:i,hideDropdown:c,showDisabledDialCodeAndPrefix:D,disableFocusAfterCountrySelect:N,flags:A,style:P,className:E,inputStyle:j,inputClassName:I,countrySelectorStyleProps:L,dialCodePreviewStyleProps:z,inputProps:T,placeholder:_,disabled:B,name:R,onFocus:F,onBlur:V,required:G,autoFocus:K,...O},W)=>{let U=(0,a.useCallback)(e=>{t?.(e.phone,{country:e.country,inputValue:e.inputValue})},[t]),{phone:q,inputValue:H,inputRef:Z,country:J,setCountry:Y,handlePhoneValueChange:Q}=(({defaultCountry:e=f,value:t=m,countries:r=k,prefix:n=p,defaultMask:i=h,charAfterDialCode:o=y,historySaveDebounceMS:c=C,disableCountryGuess:D=g,disableDialCodePrefill:N=b,forceDialCode:A=v,disableDialCodeAndPrefix:P=w,disableFormatting:E=x,onChange:j,inputRef:$})=>{let M={countries:r,prefix:n,charAfterDialCode:o,forceDialCode:!P&&A,disableDialCodeAndPrefix:P,defaultMask:i,countryGuessingEnabled:!D,disableFormatting:E},I=(0,a.useRef)(null),L=$||I,z=e=>{Promise.resolve().then(()=>{typeof window>"u"||L.current!==document?.activeElement||L.current?.setSelectionRange(e,e)})},T=(0,a.useCallback)(e=>S({value:e,field:"iso2",countries:r}),[r]),[{phone:_,inputValue:B,country:R},F,V,G]=function(e,t){let r,n,i,{size:o,overrideLastItemDebounceMS:l,onChange:s}={...d,...t},[u,c]=(0,a.useState)(e),f=(0,a.useRef)([u]),m=(0,a.useRef)(0),p=(r=(0,a.useRef)(),n=(0,a.useRef)(Date.now()),i=(0,a.useCallback)(()=>{let e=Date.now(),t=r.current?e-n.current:void 0;return r.current=n.current,n.current=e,t},[]),(0,a.useMemo)(()=>({check:i}),[i]));return[u,(0,a.useCallback)((e,t)=>{let a=f.current[m.current];if(e===a||"object"==typeof e&&"object"==typeof a&&((e,t)=>{let a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let r of a)if(e[r]!==t[r])return!1;return!0})(e,a))return;let r=l>0,n=p.check(),i=!r||void 0===n||n>l;if(t?.overrideLastItem!==void 0?t.overrideLastItem:!i)f.current=[...f.current.slice(0,m.current),e];else{let t=f.current.length>=o;f.current=[...f.current.slice(+!!t,m.current+1),e],t||(m.current+=1)}c(e),s?.(e)},[s,l,o,p]),(0,a.useCallback)(()=>{if(m.current<=0)return{success:!1};let e=f.current[m.current-1];return c(e),m.current-=1,s?.(e),{success:!0,value:e}},[s]),(0,a.useCallback)(()=>{if(m.current+1>=f.current.length)return{success:!1};let e=f.current[m.current+1];return c(e),m.current+=1,s?.(e),{success:!0,value:e}},[s])]}(()=>{let a=S({value:e,field:"iso2",countries:r});a||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let{phone:n,inputValue:i,country:o}=u({value:t,country:a||S({value:"us",field:"iso2",countries:r}),insertDialCodeOnEmpty:!N,...M});return z(i.length),{phone:n,inputValue:i,country:o.iso2}},{overrideLastItemDebounceMS:c,onChange:(0,a.useCallback)(({inputValue:e,phone:t,country:a})=>{j&&j({phone:t,inputValue:e,country:T(a)})},[T,j])}),K=(0,a.useMemo)(()=>T(R),[R,T]);(0,a.useEffect)(()=>{let e=L.current;if(!e)return;let t=e=>{if(!e.key)return;let t=e.ctrlKey,a=e.metaKey,r=e.shiftKey;if("z"===e.key.toLowerCase()){if(!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().includes("macintosh")){if(!a)return}else if(!t)return;r?G():V()}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[L,V,G]);let O=(0,a.useCallback)((e,t={focusOnInput:!1})=>{let a=S({value:e,field:"iso2",countries:r});a?(F({inputValue:P?"":`${n}${a.dialCode}${o}`,phone:`${n}${a.dialCode}`,country:a.iso2}),t.focusOnInput&&Promise.resolve().then(()=>{L.current?.focus()})):console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`)},[r,P,n,o,F,L]),[W,U]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!W){U(!0),t!==_&&j?.({inputValue:B,phone:_,country:K});return}if(t===_)return;let{phone:e,inputValue:a,country:r}=u({value:t,country:K,insertDialCodeOnEmpty:!N,...M});F({phone:e,inputValue:a,country:r.iso2})},[t]),{phone:_,inputValue:B,country:K,setCountry:O,handlePhoneValueChange:e=>{e.preventDefault();let{phone:a,inputValue:r,country:n,cursorPosition:i}=((e,{country:t,insertDialCodeOnEmpty:a,phoneBeforeInput:r,prefix:n,charAfterDialCode:i,forceDialCode:o,disableDialCodeAndPrefix:d,countryGuessingEnabled:c,defaultMask:f,disableFormatting:m,countries:p})=>{let h=e.nativeEvent,y=h.inputType,C=(e=>{if(e?.toLocaleLowerCase().includes("delete"))return e?.toLocaleLowerCase().includes("forward")?"forward":"backward"})(y),g=!!y?.startsWith("insertFrom"),b="insertText"===y,v=h?.data||void 0,w=e.target.value,x=e.target.selectionStart??0;if(y?.includes("history"))return{inputValue:r,phone:s({phone:r,prefix:n}),cursorPosition:r.length,country:t};if(b&&!l(v)&&w!==n)return{inputValue:r,phone:s({phone:d?`${t.dialCode}${r}`:r,prefix:n}),cursorPosition:x-(v?.length??0),country:t};if(o&&!w.startsWith(`${n}${t.dialCode}`)&&!g){let e=w?r:`${n}${t.dialCode}${i}`;return{inputValue:e,phone:s({phone:e,prefix:n}),cursorPosition:n.length+t.dialCode.length+i.length,country:t}}let{phone:k,inputValue:D,country:N}=u({value:w,country:t,trimNonDigitsEnd:"backward"===C,insertDialCodeOnEmpty:a,countryGuessingEnabled:c,countries:p,prefix:n,charAfterDialCode:i,forceDialCode:o,disableDialCodeAndPrefix:d,disableFormatting:m,defaultMask:f}),S=(({phoneBeforeInput:e,phoneAfterInput:t,phoneAfterFormatted:a,cursorPositionAfterInput:r,leftOffset:n=0,deletion:i})=>{if(r<n)return n;if(!e)return a.length;let o=null;for(let e=r-1;e>=0;e-=1)if(l(t[e])){o=e;break}if(null===o){for(let e=0;e<t.length;e+=1)if(l(a[e]))return e;return t.length}let s=0;for(let e=0;e<o;e+=1)l(t[e])&&(s+=1);let u=0,d=0;for(let e=0;e<a.length&&(u+=1,l(a[e])&&(d+=1),!(d>=s+1));e+=1);if("backward"!==i)for(;!l(a[u])&&u<a.length;)u+=1;return u})({cursorPositionAfterInput:x,phoneBeforeInput:r,phoneAfterInput:w,phoneAfterFormatted:D,leftOffset:o?n.length+t.dialCode.length+i.length:0,deletion:C});return{phone:k,inputValue:D,cursorPosition:S,country:N}})(e,{country:K,phoneBeforeInput:B,insertDialCodeOnEmpty:!1,...M});return F({inputValue:r,phone:a,country:n.iso2}),z(i),t},inputRef:L}})({value:e,countries:r,...O,onChange:U}),X=O.disableDialCodeAndPrefix&&D&&J?.dialCode,ee=(0,a.useCallback)(e=>{Y(e.iso2,{focusOnInput:!N})},[Y,N]);return(0,a.useImperativeHandle)(W,()=>Z.current?Object.assign(Z.current,{setCountry:Y,state:{phone:q,inputValue:H,country:J}}):null,[Z,Y,q,H,J]),a.default.createElement("div",{ref:W,className:o({addPrefix:["input-container"],rawClassNames:[E]}),style:P},a.default.createElement($,{onSelect:ee,flags:A,selectedCountry:J?.iso2,countries:r,preferredCountries:i,disabled:B,hideDropdown:c,...L}),X&&a.default.createElement(M,{dialCode:J.dialCode,prefix:O.prefix??"+",disabled:B,...z}),a.default.createElement("input",{onChange:Q,value:H,type:"tel",ref:Z,className:o({addPrefix:["input",B&&"input--disabled"],rawClassNames:[I]}),placeholder:_,disabled:B,style:j,name:R,onFocus:F,onBlur:V,autoFocus:K,required:G,...T}))});let L=[{code:"AE",name:"United Arab Emirates",dialCode:"971"},{code:"AU",name:"Australia",dialCode:"61"},{code:"CA",name:"Canada",dialCode:"1"},{code:"DE",name:"Germany",dialCode:"49"},{code:"FR",name:"France",dialCode:"33"},{code:"GB",name:"United Kingdom",dialCode:"44"},{code:"IN",name:"India",dialCode:"91"},{code:"LK",name:"Sri Lanka",dialCode:"94"},{code:"MY",name:"Malaysia",dialCode:"60"},{code:"SG",name:"Singapore",dialCode:"65"},{code:"US",name:"United States",dialCode:"1"}],z=["Asia/Colombo","Asia/Kolkata","Asia/Dubai","Asia/Singapore","Asia/Kuala_Lumpur","Europe/London","Europe/Paris","America/New_York","America/Los_Angeles","Australia/Sydney"];function T(){let e=(0,r.useRouter)(),[n,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[s,u]=(0,a.useState)("LK"),[d,c]=(0,a.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Colombo"),[f,m]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),y=(0,a.useMemo)(()=>[...L].sort((e,t)=>e.name.localeCompare(t.name)),[]);async function C(){m("");let t=n.trim().toLowerCase(),a=o.trim();if(!t)return m("Please enter your email.");if(!a)return m("Please enter your WhatsApp number.");if(!s)return m("Please select your country/region.");if(!d)return m("Please select your timezone.");h(!0);try{let r=await fetch("/api/onboarding/lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,phone:a,country:s,timezone:d})}),n=await r.json().catch(()=>({}));if(!r.ok)throw Error(n?.error||`Save failed (${r.status})`);n?.leadId&&(document.cookie=`nexus_lead=${n.leadId}; path=/; max-age=604800; samesite=lax`),e.push("/onboarding/book")}catch(e){m(e?.message||"Server error")}finally{h(!1)}}return(0,t.jsx)("div",{className:"section",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"badge",children:"Step 2 of 3"}),(0,t.jsx)("h1",{className:"h1",style:{fontSize:40,marginTop:12},children:"Enter your details"}),(0,t.jsx)("p",{className:"p",children:"We’ll use this to contact you on WhatsApp and send your Zoom onboarding link."}),(0,t.jsxs)("div",{style:{display:"grid",gap:14,marginTop:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Email"}),(0,t.jsx)("input",{value:n,onChange:e=>i(e.target.value),placeholder:"you@example.com",type:"email",style:{width:"100%",marginTop:8}}),(0,t.jsx)("small",{children:"Use an email you can access right now."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"WhatsApp number"}),(0,t.jsx)("div",{style:{marginTop:8},children:(0,t.jsx)(I,{defaultCountry:s.toLowerCase(),value:o,onChange:l,forceDialCode:!0})}),(0,t.jsx)("small",{children:"Make sure this number has WhatsApp access."})]}),(0,t.jsxs)("div",{className:"grid2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Country / Region"}),(0,t.jsx)("select",{value:s,onChange:e=>u(e.target.value),style:{width:"100%",marginTop:8},children:y.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.name," (+",e.dialCode,")"]},e.code))}),(0,t.jsx)("small",{children:"Sorted alphabetically."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("b",{children:"Timezone"}),(0,t.jsx)("select",{value:d,onChange:e=>c(e.target.value),style:{width:"100%",marginTop:8},children:z.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("small",{children:"Times will be shown in your timezone."})]})]}),f&&(0,t.jsxs)("div",{className:"card",style:{borderColor:"rgba(255,120,120,0.6)"},children:[(0,t.jsx)("b",{style:{color:"#ffd4d4"},children:"Fix this"}),(0,t.jsx)("div",{className:"p",style:{marginTop:6},children:f})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,t.jsx)("a",{className:"btn btnGhost",href:"/onboarding/terms",children:"Back"}),(0,t.jsx)("button",{className:"btn btnPrimary",onClick:C,disabled:p,children:p?"Saving...":"Next"})]})]})]})})}e.s(["default",()=>T],80451)}]);