(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,i)=>{s.exports=e.r(76562)},55105,e=>{"use strict";var s=e.i(43476),i=e.i(71645),a=e.i(18566);function o(e){return new Date(e).toLocaleString(void 0,{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}function n(){let e=(0,a.useRouter)(),n=(0,a.useSearchParams)().get("b")||"",[t,l]=(0,i.useState)(!0),[r,c]=(0,i.useState)(null),[d,m]=(0,i.useState)(""),h=(0,i.useMemo)(()=>Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Colombo",[]);return(0,i.useEffect)(()=>{!async function(){m(""),l(!0);try{if(!n){m("Missing booking id."),l(!1);return}let e=await fetch(`/api/onboarding/booking?id=${encodeURIComponent(n)}`,{cache:"no-store"}),s=await e.json().catch(()=>({}));if(!e.ok)throw Error(s?.error||"Could not load booking.");c(s.booking)}catch(e){m(e?.message||"Could not load booking.")}finally{l(!1)}}()},[n]),(0,s.jsx)("div",{className:"section",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"badge",children:"Booked"}),(0,s.jsx)("h1",{className:"h1",style:{fontSize:44,marginTop:12},children:"You’re booked ✅"}),(0,s.jsx)("p",{className:"p",children:"We sent a confirmation email. We’ll also message you on WhatsApp with the Zoom link."}),t?(0,s.jsx)("div",{className:"card",style:{marginTop:14},children:(0,s.jsx)("div",{className:"p",children:"Loading your booking..."})}):d?(0,s.jsxs)("div",{className:"card",style:{borderColor:"rgba(255,120,120,0.6)",marginTop:14},children:[(0,s.jsx)("b",{style:{color:"#ffd4d4"},children:"Fix this"}),(0,s.jsx)("div",{className:"p",style:{marginTop:6},children:d})]}):r?(0,s.jsxs)("div",{className:"card",style:{marginTop:14},children:[(0,s.jsx)("div",{style:{fontWeight:800,fontSize:20},children:o(r.startsAt)}),(0,s.jsxs)("div",{className:"p",style:{marginTop:6,opacity:.9},children:["Ends: ",o(r.endsAt)]}),(0,s.jsxs)("div",{className:"p",style:{marginTop:6,opacity:.9},children:["Device timezone: ",h]}),(0,s.jsxs)("div",{className:"p",style:{marginTop:6,opacity:.9},children:["Booking ID: ",r.id]})]}):null,(0,s.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginTop:16},children:[(0,s.jsx)("button",{className:"btn btnGhost",onClick:()=>e.push("/"),children:"Home"}),(0,s.jsx)("button",{className:"btn btnPrimary",onClick:()=>e.push("/contact"),children:"Contact"})]})]})})}function t(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"section",children:(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"badge",children:"Booked"}),(0,s.jsx)("h1",{className:"h1",style:{fontSize:44,marginTop:12},children:"Loading…"}),(0,s.jsx)("p",{className:"p",children:"Preparing your confirmation page."})]})}),children:(0,s.jsx)(n,{})})}e.s(["default",()=>t])}]);