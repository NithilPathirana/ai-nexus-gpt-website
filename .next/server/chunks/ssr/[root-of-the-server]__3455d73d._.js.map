{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../app/onboarding/confirmed/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","\"use client\";\n\nimport { Suspense, useEffect, useMemo, useState } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\n\ntype BookingData = {\n  id: string;\n  startsAt: string;\n  endsAt: string;\n  timezone: string | null;\n  lead: { email: string; phone: string; country: string; timezone: string };\n};\n\nfunction formatSlot(iso: string) {\n  const d = new Date(iso);\n  return d.toLocaleString(undefined, {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"short\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n}\n\nfunction ConfirmedInner() {\n  const router = useRouter();\n  const sp = useSearchParams();\n  const bookingId = sp.get(\"b\") || \"\";\n\n  const [loading, setLoading] = useState(true);\n  const [booking, setBooking] = useState<BookingData | null>(null);\n  const [error, setError] = useState(\"\");\n\n  const deviceTz = useMemo(() => {\n    return Intl.DateTimeFormat().resolvedOptions().timeZone || \"Asia/Colombo\";\n  }, []);\n\n  useEffect(() => {\n    async function load() {\n      setError(\"\");\n      setLoading(true);\n      try {\n        if (!bookingId) {\n          setError(\"Missing booking id.\");\n          setLoading(false);\n          return;\n        }\n\n        const res = await fetch(\n          `/api/onboarding/booking?id=${encodeURIComponent(bookingId)}`,\n          { cache: \"no-store\" },\n        );\n        const data = await res.json().catch(() => ({}));\n        if (!res.ok) throw new Error(data?.error || \"Could not load booking.\");\n\n        setBooking(data.booking);\n      } catch (e: any) {\n        setError(e?.message || \"Could not load booking.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, [bookingId]);\n\n  return (\n    <div className=\"section\">\n      <div className=\"card\">\n        <div className=\"badge\">Booked</div>\n\n        <h1 className=\"h1\" style={{ fontSize: 44, marginTop: 12 }}>\n          You’re booked ✅\n        </h1>\n\n        <p className=\"p\">\n          We sent a confirmation email. We’ll also message you on WhatsApp with\n          the Zoom link.\n        </p>\n\n        {loading ? (\n          <div className=\"card\" style={{ marginTop: 14 }}>\n            <div className=\"p\">Loading your booking...</div>\n          </div>\n        ) : error ? (\n          <div\n            className=\"card\"\n            style={{ borderColor: \"rgba(255,120,120,0.6)\", marginTop: 14 }}\n          >\n            <b style={{ color: \"#ffd4d4\" }}>Fix this</b>\n            <div className=\"p\" style={{ marginTop: 6 }}>\n              {error}\n            </div>\n          </div>\n        ) : booking ? (\n          <div className=\"card\" style={{ marginTop: 14 }}>\n            <div style={{ fontWeight: 800, fontSize: 20 }}>\n              {formatSlot(booking.startsAt)}\n            </div>\n            <div className=\"p\" style={{ marginTop: 6, opacity: 0.9 }}>\n              Ends: {formatSlot(booking.endsAt)}\n            </div>\n            <div className=\"p\" style={{ marginTop: 6, opacity: 0.9 }}>\n              Device timezone: {deviceTz}\n            </div>\n            <div className=\"p\" style={{ marginTop: 6, opacity: 0.9 }}>\n              Booking ID: {booking.id}\n            </div>\n          </div>\n        ) : null}\n\n        <div\n          style={{ display: \"flex\", gap: 12, flexWrap: \"wrap\", marginTop: 16 }}\n        >\n          <button className=\"btn btnGhost\" onClick={() => router.push(\"/\")}>\n            Home\n          </button>\n          <button\n            className=\"btn btnPrimary\"\n            onClick={() => router.push(\"/contact\")}\n          >\n            Contact\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ConfirmedPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"section\">\n          <div className=\"card\">\n            <div className=\"badge\">Booked</div>\n            <h1 className=\"h1\" style={{ fontSize: 44, marginTop: 12 }}>\n              Loading…\n            </h1>\n            <p className=\"p\">Preparing your confirmation page.</p>\n          </div>\n        </div>\n      }\n    >\n      <ConfirmedInner />\n    </Suspense>\n  );\n}\n"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}